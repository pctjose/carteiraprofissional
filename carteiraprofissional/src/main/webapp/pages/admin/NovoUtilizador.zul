<?page title="Registo de Utilizador" contentType="text/html;charset=UTF-8"?>
<?variable-resolver class="org.zkoss.zkplus.spring.DelegatingVariableResolver"?>
<?taglib uri="http://www.zkoss.org/dsp/web/core" prefix="c"?>
<zk>
	<window id="criarUtilizador" border="none"
		apply="org.zkoss.bind.BindComposer"
		viewModel="@id('vm') @init('org.apm.carteiraprofissional.view.utilizador.UtilizadorVM')"
		width="70%">
		<div
			form="@id('fx') @load(vm.selectedRecord) @save(vm.selectedRecord, after='saveThis')">
			<separator />

			<panel width="605px" sclass="sectionPanel">
				<panelchildren>
					<grid sclass="vgrid">
						<columns>
							<column />
						</columns>
						<rows>
							<row align="center">

								<label id="lcaption"
									sclass="sectionTitleLabel"
									value="REGISTO DE NOVO UTILIZADOR DO SISTEMA" />
							</row>

						</rows>
					</grid>
				</panelchildren>
			</panel>

			<panel width="605px" sclass="sectionPanel">
				<panelchildren>
					<grid sclass="vgrid">
						<columns>
							<column label="INFORMAÇÃO DEMOGRÁFICA">
							</column>
						</columns>
						<rows>
							<row>
								<vlayout>
									<label value="Nome*"
										sclass="flabel" />
									<textbox id="nome"
										readonly="@load(vm.makeAsReadOnly)" mold="rounded"
										value="@bind(fx.nome)"
										constraint="no empty: O NOME deve ser preenchido"
										width="200px" />
								</vlayout>
							</row>
							<row>
								<vlayout>
									<label value="Apelido*"
										sclass="flabel" />
									<textbox id="apelido"
										readonly="@load(vm.makeAsReadOnly)" mold="rounded"
										value="@bind(fx.apelido)"
										constraint="no empty: O APELIDO deve ser preenchido"
										width="200px" />
								</vlayout>
							</row>

							<row>

								<vlayout>
									<label value="Grupo Utilizador*"
										sclass="flabel" />
									<listbox
										model="@bind(vm.userGrupos)" selectedItem="@bind(fx.grupo)"
										mold="select" id="userGrupos" width="200px">
										<template name="model">
											<listitem
												label="@load(each)" width="200px" />
										</template>
									</listbox>
								</vlayout>

							</row>

							<row>

								<vlayout>
									<label value="Contacto*"
										sclass="flabel" />
									<textbox id="contacto"
										width="100px" readonly="@load(vm.makeAsReadOnly)"
										mold="rounded" value="@bind(fx.contacto)" />
								</vlayout>

							</row>

							<row>
								<vlayout>
									<label value="Email*"
										sclass="flabel" />
									<textbox id="email" width="200px"
										readonly="@load(vm.makeAsReadOnly)" mold="rounded"
										value="@bind(fx.email)" />
								</vlayout>
							</row>

							<row>
								
									<vlayout>
										<label value="Nome Utilizador*"
											sclass="flabel" />
										<textbox id="userName"
											width="200px" readonly="@load(vm.makeAsReadOnly)"
											mold="rounded" value="@bind(fx.userName)"
											constraint="no empty: Nome de Utilizador deve ser preenchido" />
									</vlayout>
							</row>
							<row>
									<vlayout>
										<label value="Senha *"
											sclass="flabel" />
										<textbox id="senha"
											width="200px" type="password"
											readonly="@load(vm.makeAsReadOnly)" mold="rounded"
											value="@bind(fx.senha)" 
											constraint="no empty: Senha de Utilizador deve ser preenchido" />
									</vlayout>
							</row>
							<row>
									<vlayout>
										<label value="Repetir Senha *"
											sclass="flabel" />
										<textbox id="repetirSenha"
											width="200px" type="password"
											readonly="@load(vm.makeAsReadOnly)" mold="rounded"
											value="@bind(vm.repetirSenha)" 
											constraint="no empty: Repetir a Senha de Utilizador" />
									</vlayout>

							</row>

						</rows>
					</grid>
				</panelchildren>
			</panel>
			<panel width="605px" sclass="sectionPanel">
				<panelchildren>
					<grid sclass="vgrid">
						<columns>
							<column />
						</columns>
						<rows>
							<row align="center">
								<hlayout>
									<button label="Gravar" mold="trendy"
										onClick="@command('saveThis')"
										sclass="mybutton button blue small">
									</button>
									<button
										label="@load(vm.makeAsReadOnly ?'Fechar':'Cancelar')"
										mold="trendy" onClick="@command('cancel')"
										sclass="mybutton button blue small">
									</button>
								</hlayout>
							</row>

						</rows>
					</grid>
				</panelchildren>
			</panel>

		</div>
	</window>
</zk>